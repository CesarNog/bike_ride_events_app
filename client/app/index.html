<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Bike Ride Events Client CRUD</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1"> {{content-for "head"}}

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css" media="screen">  
  {{content-for "head-footer"}}
</head>

<body>

  <script type="text/x-handlebars" data-template-name="application">
    <div class="container">
      <h1>Bikers</h1>

      <div class="navbar">
        <div class="navbar-inner">
          <ul class="nav">

            {{#view BikersApp.NavView}} {{#linkTo "index"}}Home{{/linkTo}} {{/view}} {{#view BikersApp.NavView}} {{#linkTo "bikers"}}Bikers
            {{/linkTo}} {{/view}} {{#view BikersApp.NavView}} {{#linkTo "about"}}About{{/linkTo}} {{/view}}

          </ul>
        </div>
      </div>
      {{outlet}}
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="index">
    <p>BikersApp demo app frontend (CRUD) is developed using emberjs and consumed the REST APIs (CRUD) which are developed using
      Expressjs(nodejs) and mongoDB</p>
  </script>

  <script type="text/x-handlebars" data-template-name="bikers/index">

    {{#if bikersPresent}}
    <p>No. of bikers = {{content.length}}</p>

    {{#if itemsSelected}}
    <p><button {{action 'removeSelectedBikers'}}>Remove {{editCounter}} selected bikers</button></p>
    {{/if}}

    <table class="table table-hover">
      <tr>
        <th>Selected</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>PhoneNumber</th>
        <th></th>
        <th></th>
      </tr>
      {{#each location in controller itemController="bikersEdit"}}
      <tr {{bindAttr class="selected:warning" }}>
        <td>{{view Ember.Checkbox checkedBinding="selected"}}</td>
        <td>{{location.fullname}}</td>
        <td>{{location.lastname}}</td>
        <td>{{location.phonenumber}}</td>
        <td>{{#linkTo "phonebooks.edit" location}}<img src="images/edit-icon.png" />{{/linkTo}}</td>
        <td><a href="#" {{action removeItem location}}><img src="images/delete-icon.png" border="0"/></a></td>
      </tr>
      {{/each}}
    </table>

    {{else}} No bikers present. {{/if}}

    <p>{{#linkTo "bikers.new"}}<img src="images/add-icon.png" /> New biker{{/linkTo}}</p>


  </script>

  <script type="text/x-handlebars" data-template-name="_bikerForm">
    <form class="form-horizontal">
      <div class="control-group">
        <label class="control-label" for="fullname">Fullname</label>
        <div class="controls">
          {{view Ember.TextField valueBinding="fullname"}}
        </div>
      </div>    
    </form>
  </script>

  <script type="text/x-handlebars" data-template-name="bikers/edit">

    {{#if controller.isNew}}
    <h1>New biker</h1>
    {{else}}
    <h1>Edit biker</h1>
    {{/if}} {{partial "bikerForm"}}

    <p><button {{action updateItem this}}>Update record</button></p>

  </script>

  <script type="text/x-handlebars" data-template-name="about">
    <p>Biker Events API About.</p>
  </script>

  <script src="js/jquery-1.9.1.js"></script>
  <script src="js/handlebars-v1.3.0.js"></script>
  <script src="js/ember-1.5.1.js"></script>
  <script src="js/ember-data-1.0.0-beta.7.f87cba88.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/app.js"></script>
</body>

</html>